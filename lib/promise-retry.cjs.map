{"version":3,"file":"promise-retry.cjs","sources":["../src/index.ts"],"sourcesContent":["const promiseRetry = <T>(\n  promise: Promise<T>,\n  timeout: number,\n  errMsg = \"The promise timed out.\"\n): Promise<T> => {\n  let timeoutID;\n\n  // The <T> here to keep TS happy.\n  const timeOutPromise = new Promise<T>(\n    (_resolve, reject) =>\n      (timeoutID = setTimeout(() => reject(new Error(errMsg)), timeout))\n  );\n\n  return Promise.race([promise, timeOutPromise]).finally(() =>\n    clearTimeout(timeoutID)\n  );\n};\n\nexport default promiseRetry;\n"],"names":["promise","timeout","errMsg","timeoutID","timeOutPromise","Promise","_resolve","reject","setTimeout","Error","race","clearTimeout"],"mappings":"eAAqB,SACnBA,EACAC,EACAC,GAEA,IAAIC,OAFJD,IAAAA,IAAAA,EAAS,0BAKT,IAAME,EAAiB,IAAIC,QACzB,SAACC,EAAUC,UACRJ,EAAYK,WAAW,WAAM,OAAAD,EAAO,IAAIE,MAAMP,GAAQ,EAAED,EAAQ,GAGrE,OAAOI,QAAQK,KAAK,CAACV,EAASI,IAAgB,QAAS,WACrD,OAAAO,aAAaR,EAAU,EAE3B"}