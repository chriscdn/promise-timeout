{"version":3,"file":"promise-retry.modern.js","sources":["../src/index.ts"],"sourcesContent":["const promiseRetry = <T>(\n  promise: Promise<T>,\n  timeout: number,\n  errMsg = \"The promise timed out.\"\n): Promise<T> => {\n  let timeoutID;\n\n  // The <T> here to keep TS happy.\n  const timeOutPromise = new Promise<T>(\n    (_resolve, reject) =>\n      (timeoutID = setTimeout(() => reject(new Error(errMsg)), timeout))\n  );\n\n  return Promise.race([promise, timeOutPromise]).finally(() =>\n    clearTimeout(timeoutID)\n  );\n};\n\nexport default promiseRetry;\n"],"names":["promiseRetry","promise","timeout","errMsg","timeoutID","timeOutPromise","Promise","_resolve","reject","setTimeout","Error","race","finally","clearTimeout"],"mappings":"AAAM,MAAAA,EAAeA,CACnBC,EACAC,EACAC,EAAS,4BAET,IAAIC,EAGJ,MAAMC,EAAiB,IAAIC,QACzB,CAACC,EAAUC,IACRJ,EAAYK,WAAW,IAAMD,EAAO,IAAIE,MAAMP,IAAUD,IAG7D,OAAOI,QAAQK,KAAK,CAACV,EAASI,IAAiBO,QAAQ,IACrDC,aAAaT,GAAU"}